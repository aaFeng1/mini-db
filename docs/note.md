为什么我总是写出带很多bug的代码。我没有一个合理的流程来编码

1.写验收标准
2.维护出状态集合，应该考虑是否需要同时更新状态
3.写不变量清单，意味着在任何时候都成立
4.先写伪代码
5.危险步骤封装为小函数
6.写断言
7.尖锐的3个测试

最后固化成一个模板。工程能力就是：人脑不适合同时维护多个状态，工程的解法不是更专注，而是“把专注外包给流程”

工程流程：
1.冻结目标，这个函数返回前，系统应该处于什么状态？
2.列状态，不写代码
3.伪代码，伪代码尽量短，伪代码长了说明需要拆成两个函数
4.写代码
5.出口断言，函数 return 前写断言

在实现bufferpool之后实现表功能的时候，我完全不知道该干什么，然后这叫“该参考业界成熟设计”？

在状态不好的时候，应该写todaylist，记录我目前做了什么，写的细一点。而不是让大脑感觉我好像什么都没做。

第一版的代码的作用就是用来指示你第二版往哪里走。第一版需要一个能跑，简陋，甚至丑陋的代码，甚至里面的每行代码都会被替换，那就是第一版的代码，写优化美化是后面的事情。

怎么区分现在做的是无意识混乱还是有必要的简化

文档也很重要！

流程很重要，一定得是先搞清楚状态机，然后写伪代码，然后编码+写测试代码，然后补上文档。测试代码不写只会变成不断积累的负债。

对“用户输入/运行时可能发生”的错误 → 用 throw 或返回 error

对“程序员写错调用协议”的错误 → 用 assert

在unpin后仍持有page指针，是危险行为！

schema是指表结构：有哪些列，每列叫什么，类型是什么，在一条记录里的偏移是多少
tuple说是一条记录的值：按schema编码的一段字节，是数据本身
RID代表记录位置：页id，槽id